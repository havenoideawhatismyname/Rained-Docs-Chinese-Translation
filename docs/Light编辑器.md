# Light编辑器

**Light（关照）编辑器**是用于控制房间内光源与阴影的编辑器。  

## 光照角度和距离
![光照角度窗口](img/lightangle.png)  

屏幕右上角的窗口用于控制光线方向与距离。你可以通过滑块调节参数，用鼠标操作光环，或按住<kbd>Shift</kbd>时使用WASD键调整。  

**Light Angle（光照角度）**的功能不言自明，但建议保持其位于左上角附近——因为图块/道具的光照效果通常默认光源来自该方向。  

**Light Distance（光源距离）**参数（或称**"flatness"**）控制阴影长度。参数减小时，渲染的阴影会变短；增大时则变长。这类似于现实中太阳位置与阴影的关系：当光源距离为零时，相当于太阳位于正上方，此时阴影极短；随着太阳（或光环上的点）远离中心，阴影则逐渐拉长。  

## 光照贴图
![示例光照贴图](img/lightmap.png)  

主视图区专用于编辑光照贴图，光照贴图是一张黑白图像：白色区域（编辑器中透明）代表阳光，黑色区域（编辑器中显示为红色半透明）代表阴影。图像中的阴影会投射到游戏世界中，如同从摄像机后方物体投射的阴影。光照编辑器中的阴影投影与游戏中的实际效果并不完全一致（因为未考虑子图层深度），但也能作为一个不错的参考。

!> 光照贴图在房间顶部和左侧有额外延伸区域，编辑器中以白色背景显示。

光照贴图的绘制通常较为简单，参考经验法则：如果是室内房间，光照贴图应大部分为阴影，只有一些透光的小或大缝隙或窗户；如果是室外房间，光照贴图应大部分为光照，只有一些与房间或区域本身相似的结构/图案的阴影。建议分析现有房间的光照贴图作为参考。

!> 如果发现房间渲染之后完全黑暗但光照贴图中有光，可能是在Environment编辑器中禁用了阳光。

编辑光照贴图就像在绘图软件中绘制图像。首先从右下角**"Brush"**窗口选择所需的笔刷形状（点击或使用WASD），然后在主视图区按住鼠标左键绘制阴影，按住右键擦除阴影。

笔刷也可以缩放和旋转。要缩放笔刷，按住<kbd>Q</kbd>键并移动鼠标；要旋转笔刷，按住<kbd>E</kbd>键并上下移动鼠标。如果不喜欢这种方式，可以将**Light editor control scheme**设置为"Keyboard"（即键盘模式）。键盘模式下使用WASD键缩放，按住<kbd>E</kbd>顺时针旋转，按住<kbd>Q</kbd>逆时针旋转，按住<kbd>Shift</kbd>可以加快操作速度。

!> 将设置改为键盘模式会取消使用WASD浏览笔刷目录的功能。